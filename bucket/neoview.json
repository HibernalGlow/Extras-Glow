{
    "version": "1.0.1",
    "description": "NeoView: A Tauri-based image viewer for Windows",
    "homepage": "https://github.com/HibernalGlow/neoview",
    "license": "MIT",
    "url": "https://github.com/HibernalGlow/neoview/releases/download/1.0.1/neoview_2.0.0_x64-setup.exe",
    "hash": "a3bfe55997450765efe4c87ae91464c99bd6e2938ba637de152d93bc4d0ed60b",
    "pre_install": "Remove-Item \"$dir\\`$PLUGINSDIR\", \"$dir\\uninst*\" -Force -Recurse -ErrorAction SilentlyContinue",
    "installer": {
        "script": [
            "$setup = Get-ChildItem \"$dir\\*setup*.exe\" -ErrorAction Stop | Select-Object -First 1",
            "& $setup.FullName /S /D=$dir",
            "ensure \"$persist_dir\" | Out-Null",
            "$appDataPath = Join-Path $env:APPDATA 'neoview'",
            "if (Test-Path $appDataPath -PathType Container) {",
            "  if (-not (Get-Item $appDataPath).Attributes.ToString().Contains('ReparsePoint')) {",
            "    Get-ChildItem $appDataPath -Force | Move-Item -Destination $persist_dir -Force -ErrorAction SilentlyContinue",
            "    Remove-Item $appDataPath -Recurse -Force -ErrorAction SilentlyContinue",
            "  }",
            "}",
            "if (-not (Test-Path $appDataPath)) {",
            "  New-Item $appDataPath -ItemType Junction -Target $persist_dir | Out-Null",
            "}"
        ]
    },
    "uninstaller": {
        "script": "Remove-Item \"$env:APPDATA\\neoview\" -Recurse -Force -ErrorAction 'SilentlyContinue'"
    },
    "bin": [
        [
            "cmd",
            "neoview",
            "/c \"$dir\\neoview.exe\""
        ]
    ],
    "shortcuts": [
        [
            "neoview.exe",
            "NeoView"
        ]
    ],
    "checkver": {
        "url": "https://api.github.com/repos/HibernalGlow/neoview/releases/latest",
        "jsonpath": "$.tag_name"
    },
    "autoupdate": {
        "url": "https://github.com/HibernalGlow/neoview/releases/download/$version/neoview_2.0.0_x64-setup.exe"
    },
    "notes": [
        "NeoView 已安装为便携版本",
        "运行方式: 在终端执行 'neoview' 或在开始菜单搜索 'NeoView'",
        "",
        "功能特性示例:",
        "- 基于 Tauri 2 + Svelte 5 + shadcn-svelte 的现代 UI",
        "- 支持本地图片浏览和多窗口",
        "",
        "注意: 需要 Windows 10 或更高版本"
    ]
}
